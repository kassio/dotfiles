#!/usr/bin/env bash

alias vi='echo use "nv"'
alias nv='nvim'

LS_COMMON="-G -h"
alias ls="ls $LS_COMMON"
alias l='ls -A'
alias ll='ls -l'
alias la='ls -lA'

alias ..='cd ..'
alias ...='cd ../..'

alias sudo='A=`alias` sudo env '
alias clear='reset;echo -e "\033c\e[3J"'
alias hr="clear; printf '-%.0s' {1..80}"

alias r='rails'
alias RD='RAILS_ENV=development'
alias RT='RAILS_ENV=test'
alias RS='RAILS_ENV=staging'
alias RP='RAILS_ENV=production'
alias s='spring'
alias DS='DISABLE_SPRING=1'
alias be='bundle exec'

alias g="git"
alias ga="g add -A"
alias gb="g b"
alias gbd="git remote | xargs -n1 git remote prune"
alias gbD="g bD"
alias gc="g c"
alias gca="gc --amend"
alias gclean="g clean"
alias gco="g co"
alias gd="g d"
alias gdc="gd --cached"
alias gdp="g dp"
alias gf="g f -p"
alias gfix="gc --amend --no-edit --reset-author"
alias gl="g l"
alias glp="g lp"
alias glme="g lme"
alias glpme="g lpme"
alias gm="g m"
alias gp="g pull"
alias gps="g push"
alias gr="g rebase"
alias grc="gr --continue"
alias grs="gr --skip"
alias gra="gr --abort"
alias gs="g s"
alias gstash="g stash"
alias gsub="git submodule"
alias gt="g tag"
alias gtl="gt --list --sort=version:refname"
alias gtoday="g today"
alias gtree="g tree"

export GREP_OPTIONS="--color=auto"
alias grep="grep -v grep | \\grep -i"

alias psg="ps aux | grep "

function simple-http {
  python -m SimpleHTTPServer ${1:-8080}
}

# Kills all the process with the given name.
function killer {
  kill -9 $(psg $@ | awk '{print $2}')
}

# Prints the ruby version and which architecture(32bits or 64bits) it was
# compiled.
rbv() {
  rbenv_ruby_version=`rbenv version-name`
  rbenv_ruby_arch=`ruby -e 'puts "#{[""].pack("p").size*8}bits"'`
  printf $rbenv_ruby_version"("$rbenv_ruby_arch")\n"
}
