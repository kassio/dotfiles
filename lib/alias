# vim:ft=zsh:

alias v="vim"
alias n="nvim"

alias time="/usr/bin/time"

alias sudo="sudo "

alias ls="lsd -h"
alias la="lsd -lA"

alias watch="watch --color"

alias ..="cd .."
alias ...="cd ../.."

alias brews="brew services"

# Searching
alias grep="grep -v 'grep --color=auto -i' | grep --color=auto -i"
alias psg="ps aux | grep"

# Ruby and Rails
alias r="rails"
alias sr="bin/spring rails"
alias be="bundle exec"
alias bi="bundle install"
alias RD="RAILS_ENV=development"
alias RT="RAILS_ENV=test"
alias RS="RAILS_ENV=staging"
alias RP="RAILS_ENV=production"
alias DS="DISABLE_SPRING=1"

sync() {
  gswm && git pull
  { # optional steps
    bundle install;
    yarn install;
    bin/rails db:migrate;
  } 2>/dev/null
  git switch -
}

alias c="code"

alias tailf="tail -f"

alias to-nvim="xargs nvim -p"
alias to-rspec="grep 'spec.rb' | xargs bundle exec rubocop --parallel"
alias to-rubocop="grep '.rb' | xargs bundle exec rubocop --parallel"

alias rubocop-diff="gdfm --diff-filter=d | to-rubocop"
alias rspec-diff="gdfm --diff-filter=d | to-rspec"
alias nvim-diff="gdfm --diff-filter=d | to-nvim"
alias nd="nvim-diff"

alias reset-logs='truncate -s 0 log/*'

approve-chromedriver-quarentine() {
  xattr -d com.apple.quarantine "$(which chromedriver)"
}

source "${DOTFILES}/lib/git/alias"
