#!/usr/bin/env bash

function show_help {
  echo -e "usage: print_c [-c|--color|-h|--help] message
  OPTIONS:
  -h, --help  print this message
  -c, --color choose the color of the message
  Available colors:
  "

  for i in {1..256}
  do
    printf "\e[38;5;${i}m$(printf '%03d' ${i}) "
    [ "$((${i} % 16))" = 0 ] && echo
  done

  echo
}

reset='\e[00m'
color=""
underline=""
bold=""
message=""

function parse_args {
  case $1 in
    -h|--help)
      show_help
      exit 0
      ;;
    -c|--color)
      color="\e[38;5;$2m"
      shift 2

      parse_args $@
      ;;
    -u|--underline)
      underline='\e[4m'
      shift

      parse_args $@
      ;;
    -b|--bold)
      bold='\e[1m'
      shift

      parse_args $@
      ;;
    *)
      message="$@"
      ;;
  esac
}

function print_c {
  parse_args "$@"

  echo -en "${bold}${underline}${color}${message}${reset}"
}

print_c $@
