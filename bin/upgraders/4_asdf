#!/usr/bin/env bash

if [ "$1" = "--help" ]; then
  echo "Update all asdf plugins"
  exit
fi

title "asdf plugins update"
asdf plugin-update --all

while read -r plugin; do
  version="$(asdf latest "${plugin}")"

  title "Ensure latest version (${version}) of ${plugin} installed and set globally"
  asdf install "${plugin}" "${plugin}"
  asdf global "${plugin}" "${plugin}"
done < "${HOME}/.dotfiles/lib/asdf_default_plugins"
