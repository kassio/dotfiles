#!/usr/bin/env zsh

local cache="${HOME}/.cache/term_profile"
local themes_path="${HOME}/.config/kitty/themes"
local current_theme="${themes_path}/current.conf"

set_theme() {
  ln -sf "${themes_path}/$1" "${current_theme}"
  kitty @ set-colors --all --configured "${current_theme}"
}

if [ "${TERM_PROGRAM}" != "kitty" ]; then
  return
fi

case "$1" in
  light|dark)
    set_theme "$1.conf"
    ;;
  *)
    echo "Usage: ttheme <light|dark>"
    ;;
esac
