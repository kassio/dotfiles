#!/usr/bin/env zsh

cache="${HOME}/.cache/term_profile"
themes_path="${HOME}/.config/kitty/themes/"

set_kitty_profile() {
  if [ "${TERM_PROGRAM}" != "kitty" ]; then
    return
  fi

  kitty @ set-colors --all --configured "${themes_path}/$1"
}

case "$1" in
  dark)
    set_kitty_profile "nightfox.conf"
    echo "dark" > "${cache}"
    ;;
  light)
    set_kitty_profile "dayfox.conf"
    echo "light" > "${cache}"
    ;;
esac
