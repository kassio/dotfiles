#!/bin/bash

cd $HOME

link_files() {
  local file_path="$HOME/.dotfiles"

  for f in \
    bashrc zshrc zshenv gitignore \
    gitconfig irbrc gemrc hushlogin \
    profile tmux.conf ctags ackrc
  do
    ln -sf "$file_path/$f" $HOME/.$f
  done
}; link_files

if [[ -e "$HOME/.zshrc" ]]
then
  source $HOME/.zshrc &>/dev/null
fi

if [[ -e "/etc/zshenv" ]]
then
  sudo mv /etc/{zshenv,zshrc}
fi

if [[ $(uname) == 'Darwin' ]]
then
  $HOME/.dotfiles/osx_setup
fi

# load/update git-prompt.sh
curl \
  https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh \
  > $HOME/.dotfiles/lib/git-prompt.sh

cd $HOME
