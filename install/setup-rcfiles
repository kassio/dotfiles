#!/usr/bin/env bash

source "$(dirname $0)/global"

title "Setup my rcfiles/configs"

# Create linked files
for f in ${INSTALLER}/rcfiles/home/*
do
  target="${HOME}/.${f##*/}"
  if [ -L "${target}" ]
  then
    rm -rf "${target}"
  elif [ -f "${target}" ]
  then
    echo "${target} already exists and is not a link"
  fi
  ln -sf "${f}" "${target}"
done

mkdir -p "${HOME}/.config"
for f in ${INSTALLER}/rcfiles/home-config/*
do
  ln -sf "${f}" "${HOME}/.config/${f##*/}"
done

mkdir -p "${HOME}/.docker"
cp "${INSTALLER}/rcfiles/home-docker/config.json" "${HOME}/.docker/config.json"
